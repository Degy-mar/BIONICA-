<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Malla Curricular Biónica - UPIITA</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f9f9f9;
    color: #333;
    display: flex;
    justify-content: center;
    padding: 20px;
  }
  .grid {
    display: flex;
    gap: 20px;
    overflow-x: auto;
  }
  .semester {
    background: white;
    padding: 10px;
    border-radius: 8px;
    box-shadow: 0 0 5px rgba(0,0,0,0.1);
    min-width: 220px;
  }
  .semester h3 {
    text-align: center;
    margin-bottom: 10px;
  }
  .subject {
    margin: 5px 0;
    padding: 8px;
    border-radius: 6px;
    cursor: pointer;
    user-select: none;
    position: relative;
    transition: 0.3s;
  }
  .subject.locked {
    background: #ccc;
    cursor: not-allowed;
    color: #777;
  }
  .subject.done {
    text-decoration: line-through;
    opacity: 0.6;
  }
  .subject:hover::after {
    content: attr(data-tooltip);
    position: absolute;
    left: 100%;
    top: 50%;
    transform: translateY(-50%);
    background: #333;
    color: #fff;
    padding: 4px 8px;
    border-radius: 4px;
    white-space: nowrap;
    z-index: 10;
    font-size: 12px;
    margin-left: 8px;
  }
</style>
</head>
<body>
<div class="grid" id="grid"></div>
<script>
const subjects = {
  'Calculo diferencial e integral': { semester:1, color:'#748DAE', unlocks:['Calculo vectorial','Fisicoquímica','Fundamentos matemáticos para la ingeniería','Análisis numérico','Biógnosis','Ecuaciones diferenciales'] },
  'Algebra lineal': { semester:1, color:'#748DAE', unlocks:['Ecuaciones diferenciales','Fundamentos matemáticos para la ingeniería','Análisis numérico'] },
  'Biología celular': { semester:1, color:'#4A9782', unlocks:['Biología molecular','Bioquímica','Biógnosis'] },
  'Química orgánica': { semester:1, color:'#E07A5F', unlocks:['Fisicoquímica','Bioquímica','Biomagnetismo','Biomateriales'] },
  'Metrología': { semester:1, color:'#FFCDB2', unlocks:['Dispositivos electrónicos'] },
  'Bioética': { semester:1, color:'#ADB2D4', unlocks:[] },

  'Herramientas computacionales': { semester:2, color:'#9ECAD6', unlocks:['Biógnosis','Procesamiento de imágenes','Dispositivos programables'] },
  'Calculo vectorial': { semester:2, color:'#748DAE', unlocks:['Fundamentos de la teoría electromagnética','Fundamentos matemáticos para la ingeniería','Ondas electromagnéticas y sistemas radianes','Física moderna y óptica'] },
  'Anatomía': { semester:2, color:'#4A9782', unlocks:['Fisiología'] },
  'Fundamentos de física para la ingeniería': { semester:2, color:'#748DAE', unlocks:['Fundamentos de la teoría electromagnética','Fisicoquímica','Bioquímica','Dispositivos electrónicos','Biógnosis','Física moderna y óptica','Biomagnetismo','Biomateriales'] },
  'Ingles 1': { semester:2, color:'#DCC5B2', unlocks:['Ingles 2'] },
  'Biología molecular': { semester:2, color:'#4A9782', unlocks:['Bioquímica'] },
  'Ecuaciones diferenciales': { semester:2, color:'#748DAE', unlocks:['Fundamentos matemáticos para la ingeniería','Ondas electromagnéticas y sistemas radianes','Análisis numérico','Biógnosis','Teoría del control'] },

  'Programación orientada a objetos': { semester:3, color:'#9ECAD6', unlocks:['Procesamiento de imágenes','Dispositivos programables','Control neurodifuso'] },
  'Fundamentos de la teoría electromagnética': { semester:3, color:'#748DAE', unlocks:['Ondas electromagnéticas y sistemas radianes','Biomagnetismo','Biofísica'] },
  'Desarrollo sostenible': { semester:3, color:'#ADB2D4', unlocks:[] },
  'Fisicoquímica': { semester:3, color:'#E07A5F', unlocks:['Bioquímica','Biomateriales'] },
  'Fisiología': { semester:3, color:'#4A9782', unlocks:['Biógnosis','Biofísica','Procesamiento de señales biológicas'] },
  'Teoría de los circuitos': { semester:3, color:'#FFCDB2', unlocks:['Electrónica analógica y de potencia','Electrónica digital'] },
  'Ingles 2': { semester:3, color:'#DCC5B2', unlocks:['Ingles 3'] },

  // Continúa con los demás semestres (por espacio resumido aquí)
};

const state = JSON.parse(localStorage.getItem('bionica_progress')||'{}');
const grid = document.getElementById('grid');

for(let s=1; s<=10; s++){
  const col = document.createElement('div');
  col.className='semester';
  col.innerHTML=`<h3>Semestre ${s}</h3>`;
  for(const [name,data] of Object.entries(subjects)){
    if(data.semester === s){
      const div = document.createElement('div');
      div.className='subject';
      div.style.background=data.color;
      div.textContent=name;
      div.dataset.name=name;
      div.dataset.tooltip='Bloqueado';
      col.appendChild(div);
    }
  }
  grid.appendChild(col);
}

function updateUI(){
  document.querySelectorAll('.subject').forEach(el=>{
    const name = el.dataset.name;
    let locked=false, tooltip=[];
    for(const [k,v] of Object.entries(subjects)){
      if(v.unlocks.includes(name)&&!state[k]){
        locked=true;
        tooltip.push(k);
      }
    }
    el.classList.toggle('locked',locked);
    el.classList.toggle('done',state[name]);
    el.dataset.tooltip= locked?`Requiere: ${tooltip.join(', ')}`:'';
  });
}

updateUI();

document.querySelectorAll('.subject').forEach(el=>{
  el.addEventListener('click',()=>{
    const name=el.dataset.name;
    if(el.classList.contains('locked')) return;
    state[name]=!state[name];
    localStorage.setItem('bionica_progress',JSON.stringify(state));
    updateUI();
  });
});
</script>
</body>
</html>
