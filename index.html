<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Mapa curricular interactivo</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f5f5;
    }
    .semestre {
      margin-bottom: 40px;
    }
    .semestre h2 {
      text-align: center;
      margin-bottom: 15px;
    }
    .materias {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      justify-content: center;
    }
    .materia {
      position: relative;
      width: 180px;
      padding: 12px;
      border-radius: 12px;
      background: white;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: transform 0.2s;
    }
    .materia:hover {
      transform: scale(1.05);
    }
    .materia.seleccionada {
      border: 2px solid red;
    }
    .materia.cursada {
      background: #4caf50 !important;
      color: white;
      text-decoration: line-through;
    }
    .materia.bloqueada {
      opacity: 0.4;
      pointer-events: none;
    }
    .materia.disponible {
      border: 2px solid #4a90e2;
    }
    .creditos {
      font-size: 13px;
      color: gray;
    }
    .check-cursada {
      position: absolute;
      bottom: 6px;
      right: 8px;
      cursor: pointer;
      font-size: 14px;
      background: white;
      border: 1px solid #ccc;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      text-align: center;
      line-height: 18px;
    }
    .icon-doc {
      position: absolute;
      top: 6px;
      right: 8px;
      cursor: pointer;
      font-size: 16px;
    }
    /* Modal */
    .modal {
      display: none;
      position: fixed;
      top:0;left:0;width:100%;height:100%;
      background: rgba(0,0,0,0.5);
      justify-content: center;
      align-items: center;
    }
    .modal-content {
      background: white;
      padding: 20px;
      border-radius: 10px;
      max-width: 500px;
    }
    .close {
      float: right;
      cursor: pointer;
      font-weight: bold;
      font-size: 18px;
    }
  </style>
</head>
<body>

  <h1 style="text-align:center">Mapa Curricular</h1>
  <div id="contenedor"></div>

  <!-- Modal temario -->
  <div id="modal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h3 id="modal-titulo"></h3>
      <ul id="modal-lista"></ul>
    </div>
  </div>

<script>
  const materias = [
   { id:'calculo', nombre:'CÃ¡lculo Dif. e Integral', creditos:9, temario:['Axiomas de los nÃºmeros reales y complejos, funciones y lÃ­mites.','CÃ¡lculo Diferencial y sus aplicaciones.','CÃ¡lculo Integral y sus aplicaciones.','Sucesiones y Series.'], semestre:1, deps:[], categoria:'matematicas' }, 
{ id:'algebra', nombre:'Ãlgebra Lineal', creditos:7.5, temario:['Sistemas de ecuaciones lineales','Espacios vectoriales','Transformaciones lineales','Valores propios y vectores propios','Espacios con prducto interior'], semestre:1, deps:[], categoria:'matematicas' }, 
{ id:'biocel', nombre:'BiologÃ­a Celular', creditos:7.5, temario:['Fundamentos fÃ­sicos y quÃ­micos.','Estructura celular.','Almacenamiento y expresiÃ³n de la informaciÃ³n genÃ©tica.','FunciÃ³n celular.','Bases de fisiologÃ­a y anatomÃ­a.'], semestre:1, deps:[], categoria:'biologicas' }, 
{ id:'quimica', nombre:'QuÃ­mica OrgÃ¡nica', creditos:7.5, temario:['IntroducciÃ³n a la QuÃ­mica OrgÃ¡nica.','Hidrocarburos.','Derivados de los hidrocarburos.','Carbohidratos.','AminoÃ¡cidos y proteÃ­nas'], semestre:1, deps:[], categoria:'biologicas' },
{ id:'metrologia', nombre:'MetrologÃ­a', creditos:6.5, temario:['Generalidades.','Mediciones ElÃ©ctrica.','Mediciones MecÃ¡nicas.','Mediciones de Temperatura.'], semestre:1, deps:[], categoria:'electronica' }, 
{ id:'bioetica', nombre:'BioÃ©tica', creditos:4.5, temario:['Campo teÃ³rico de la bioÃ©tica.','Dilemas bioÃ©ticos.','BioÃ©tica y medioambiente.','La cultura tecnocientÃ­fica.'], semestre:1, deps:[], categoria:'sociales' }, 

{ id:'herramientas', nombre:'Herramientas Computacionales', creditos:6, temario:['Fundamentos bÃ¡sicos de los lenguajes de programaciÃ³n.','Uso de herramientas bÃ¡sicas en los leguajes de programaciÃ³n.','Fundamentos del Dibujo e IntroducciÃ³n al CAD,CAM,CAE.','DiseÃ±o en 2D.','DiseÃ±o en 3D y DocumentaciÃ³n.'], semestre:2, deps:[], categoria:'programacion' }, 
{ id:'vectorial', nombre:'CÃ¡lculo Vectorial', creditos:9, temario:['Funciones reales de varias variables.','CÃ¡lculo diferencial de funciones reales de varias variables.','CÃ¡lculo integral de funciones reales de varias variables.','Funciones vectoriales de variable real.','CÃ¡lculo vectorial.'], semestre:2, deps:['calculo'], categoria:'matematicas' }, 
{ id:'anatomia', nombre:'AnatomÃ­a', creditos:7.5, temario:['IntroducciÃ³n.','Historia.','Generalidades.','OsteologÃ­a.','ArtrologÃ­a.','MiologÃ­a.','Sistema nervioso.','CorazÃ³n y grandes vasos.'], semestre:2, deps:[], categoria:'biologicas' }, 
{ id:'fisica', nombre:'Fundamentos de FÃ­sica para la IngenierÃ­a', creditos:9, temario:['CinemÃ¡tica.','Las Leyes de Newton y sus aplicaciones.','Leyes de conservaciÃ³n.','Sistemas de partÃ­culas.','Aplicaciones de la MecÃ¡nica a la biÃ³nica.'], semestre:2, deps:[], categoria:'fisicas' }, 
{ id:'ingles1', nombre:'InglÃ©s 1', creditos:3, temario:['ConsolidaciÃ³n gramatical del tiempo presente.','ConsolidaciÃ³n gramatical del tiempo pasado.','ConsolidaciÃ³n gramatical del tiempo futuro y verbos modales.'], semestre:2, deps:[], categoria:'idiomas' }, 
{ id:'biomol', nombre:'BiologÃ­a Molecular', creditos:7.5, temario:['IntroducciÃ³n a la biologÃ­a molecular.','ReplicaciÃ³n del ADN.','ExpresiÃ³n y regulaciÃ³n genÃ©tica en cÃ©lulas procariÃ³ticas.','ExpresiÃ³n y regulaciÃ³n genÃ©tica en cÃ©lulas eucariÃ³ticas.','BioinformÃ¡tica y tÃ©cnicas de biologÃ­a molecular.'], semestre:2, deps:['biocel'], categoria:'biologicas' }, 
{ id:'ecuaciones', nombre:'Ecuaciones Diferenciales', creditos:7.5, temario:['IntroducciÃ³n a las ecuaciones diferenciales y a las ecuaciones de primer orden.','Ecuaciones diferenciales de orden superior.','ResoluciÃ³n de ecuaciones diferenciales mediante series de potencias.','La Transformada de Laplace.','Sistemas de ecuaciones diferenciales.'], semestre:2, deps:['calculo','algebra'], categoria:'matematicas' }, 

{ id:'poo', nombre:'ProgramaciÃ³n Orientada a Objetos', creditos:6, temario:['Fundamentos del lenguaje de programaciÃ³n.','Sentencias de control.','Clases y objetos.','Herencia y polimorfismo.','Concepto de polimorfismo.','ProgramaciÃ³n Orientada a Objetos con Java.'], semestre:3, deps:[], categoria:'programacion' }, 
{ id:'electro', nombre:'Fund. TeorÃ­a ElectromagnÃ©tica', creditos:9, temario:['ElectrostÃ¡tica.','Corriente elÃ©ctrica.','MagnetostÃ¡tica.'], semestre:3, deps:['fisica'], categoria:'fisicas' }, 
{ id:'desarrollo', nombre:'Desarrollo Sostenible', creditos:6, temario:['IntroducciÃ³n a las ciencias del ambiente y la sustentabilidad.','El equilibrio entre poblaciÃ³n suelo agua y agricultura.','ContaminaciÃ³n, contaminantes y medio ambiente.','Recursos naturales, biota, energÃ­a, tierra, residuos.','Marco legal y sistemas de gestiÃ³n y auditorÃ­a de los recursos naturales.'], semestre:3, deps:[], categoria:'sociales' }, 
{ id:'fisicoq', nombre:'FisicoquÃ­mica', creditos:6, temario:['EnergÃ­a y la primera ley de la termodinÃ¡mica; termoquÃ­mica.','Segunda y tercera leyes de la termodinÃ¡mica.','Equilibrio quÃ­mico.','Soluciones.','ElectroquÃ­mica.'], semestre:3, deps:['quimica'], categoria:'biologicas' }, 
{ id:'fisiologia', nombre:'FisiologÃ­a', creditos:4.5, temario:['IntroducciÃ³n.','Medio Interno y Sangre.','FunciÃ³n Cardiaca.','FisiologÃ­a de la RespiraciÃ³n.','FisiologÃ­a muscular.','FunciÃ³n Renal.','FisiologÃ­a del Sistema Nervioso.'], semestre:3, deps:['anatomia'], categoria:'biologicas' }, 
{ id:'circuitos', nombre:'TeorÃ­a de los Circuitos', creditos:9, temario:[], semestre:3, deps:[], categoria:'electronica' }, 
{ id:'ingles2', nombre:'InglÃ©s 2', creditos:3, temario:['Verbos modales; verbos en infinitivo y gerundio.','Voz pasiva y discurso indirecto.','Concicionales y clausulas relativas'], semestre:3, deps:['ingles1'], categoria:'idiomas' }, 

{ id:'bioestadistica', nombre:'BioestadÃ­stica', creditos:9, temario:['IntroducciÃ³n a la bioestadÃ­stica.','Elementos de probabilidad.','TÃ©cnicas de inferencia estadÃ­stica.','AnÃ¡lisis de varianza y regresiÃ³n lineal.','Temas complementarios.'], semestre:4, deps:[], categoria:'programacion' }, 
{ id:'bioquimica', nombre:'BioquÃ­mica', creditos:6, temario:['AminoÃ¡cidos, proteÃ­nas y su metabolismo.','Carbohidratos y las rutas del metabolismo.','LÃ­pidos y su metabolismo.','Ãcidos nucleicos.','BioenergÃ©tica.'], semestre:4, deps:['biomol','quimica'], categoria:'biologicas' }, 
{ id:'fundmat', nombre:'Fund. MatemÃ¡ticos Ing.', creditos:4.5, temario:['Funciones de variable compleja.','Derivada de funciones complejas.','IntegraciÃ³n de una variable compleja.','CÃ¡lculo de integrales.','Series y transformada de Fourier y Zeta.'], semestre:4, deps:['vectorial','ecuaciones'], categoria:'matematicas' }, 
{ id:'ondas', nombre:'Ondas ElectromagnÃ©ticas y Sistemas', creditos:7.5, temario:['Ley de inducciÃ³n de Faraday.','Ecuaciones de Maxwell.','Ondas electromagnÃ©ticas.','RadiaciÃ³n.'], semestre:4, deps:['electro'], categoria:'fisicas' }, 
{ id:'calidad', nombre:'Sist. GestiÃ³n de Calidad', creditos:4.5, temario:['La calidad en los procesos productivos.','AdministraciÃ³n orientada a procesos Kaizen.','La ReingenierÃ­a.','ISO 9000.'], semestre:4, deps:[], categoria:'sociales' }, 
{ id:'analisis', nombre:'AnÃ¡lisis NumÃ©rico', creditos:9, temario:['Errores y soluciÃ³n de ecuaciones no lineales de una variable.','Matrices, sistema de ecuaciones lineales y sistemas no lineales.','AproximaciÃ³n polinomial e interpolaciÃ³n.','DiferenciaciÃ³n e integraciÃ³n numÃ©rica.','Ecuaciones diferenciales ordinarias.'], semestre:4, deps:['ecuaciones','fundmat'], categoria:'matematicas' }, 
{ id:'dispositivos', nombre:'Dispositivos ElectrÃ³nicos', creditos:6, temario:['Fundamentos de Diodos y Aplicaciones.','Fundamentos de transistores BJT, JFET y MOSFET.','Fundamentos de Amplificadores Operacionales.','Fundamentos de OptoelectrÃ³nica.','Aplicaciones de Circuitos Integrados de uso especÃ­fico.'], semestre:4, deps:['metrologia'], categoria:'electronica' }, 
{ id:'ingles3', nombre:'InglÃ©s 3', creditos:3, temario:['ConsolidaciÃ³n gramatical: vocabulario.','ConsolidaciÃ³n gramatical: lectura y escritura.','ConsolidaciÃ³n gramatical: prÃ¡ctica auditiva y expresiÃ³n oral.'], semestre:4, deps:['ingles2'], categoria:'idiomas' }, 

{ id:'biognosis', nombre:'BiÃ³gnosis', creditos:7.5, temario:['Modelado de Sistemas FÃ­sicos.','SimulaciÃ³n y AnÃ¡lisis de la respuesta del sistema.','MetodologÃ­a para el estudio de sistemas biolÃ³gicos en la generaciÃ³n de sistemas biomimÃ©ticos.','Modelado y simulaciÃ³n de sistemas biolÃ³gicos.','DiseÃ±o, construcciÃ³n y validaciÃ³n de biomimÃ©ticos.'], semestre:5, deps:['bioquimica','fisiologia'], categoria:'biologicas' }, 
{ id:'optica', nombre:'FÃ­sica Moderna y Ã“ptica', creditos:7.5, temario:['Ã“ptica geomÃ©trica.','PropagaciÃ³n de la luz en medios transparentes.','PolarizaciÃ³n.','Interferencia y difracciÃ³n.','IntroducciÃ³n a la FÃ­sica Moderna.'], semestre:5, deps:['ondas'], categoria:'fisicas' }, 
{ id:'analpot', nombre:'ElectrÃ³nica AnalÃ³gica y Potencia', creditos:7.5, temario:['Opto-tiristores y sus aplicaciones.','Circuitos de potencia.','Amplificadores con transistores BJT.','Amplificadores con transistores MOSFET.','Aplicaciones de los OP AMPS a filtros activos y amplificadores de instrumentaciÃ³n.'], semestre:5, deps:['circuitos'], categoria:'electronica' }, 
{ id:'digital', nombre:'ElectrÃ³nica Digital', creditos:7.5, temario:['IntroducciÃ³n a los sistemas digitales.','Circuitos Combinatorios.','Circuitos Secuenciales.','MÃ¡quinas de Estado Finito.','IntroducciÃ³n al diseÃ±o RTL (Nivel de Transferencia de Registros).'], semestre:5, deps:['circuitos'], categoria:'electronica' }, 
{ id:'sensores', nombre:'Sensores y Actuadores', creditos:6, temario:['IntroducciÃ³n a los actuadores.','Actuadores.','Circuitos de interfaz y acondicionamiento de la seÃ±al.','Principios fÃ­sicos del sensado.','ClasificaciÃ³n de los sensores.'], semestre:5, deps:[], categoria:'electronica' }, 
{ id:'biomag', nombre:'Biomagnetismo', creditos:7.5, temario:['ParÃ¡metros magnÃ©ticos de las sustancias biolÃ³gicas.','Efecto de los campos electromagnÃ©ticos en organismos vivos.','Campos magnÃ©ticos en complejos moleculares.','Aplicaciones de los campos electromagnÃ©ticos en la imagenologÃ­a.','AplicaciÃ³n terapÃ©utica de los campos electromagnÃ©ticos.'], semestre:5, deps:['fisicoq','electro'], categoria:'fisicas' }, 
{ id:'mecanismos', nombre:'Mecanismos BiomimÃ©ticos', creditos:6, temario:['IntroducciÃ³n a los mecanismos biomimÃ©ticos.','Mecanismos biomimÃ©ticos.','AnÃ¡lisis cinemÃ¡tico, estÃ¡tico y dinÃ¡mico de mecanismos.','TransmisiÃ³n de potencia.'], semestre:5, deps:[], categoria:'fisicas' }, 


{ id:'biofisica', nombre:'BiofÃ­sica', creditos:6, temario:['El hombre como sistema integrado.','Bases fÃ­sicas de los fenÃ³menos bioelÃ©ctricos.','BiofÃ­sica de los sentidos.','FÃ­sica Medica.','BiofÃ­sica cardiaca y respiratoria. '], semestre:6, deps:['biognosis','biomag'], categoria:'fisicas' }, 
{ id:'liderazgo', nombre:'Liderazgo y Emprendedores', creditos:4.5, temario:['Liderazgo.','Desarrollo de habilidades intra e interpersonales.','El emprendedor.','Trabajo en equipo','Conflicto y negociaciÃ³n.'], semestre:6, deps:[], categoria:'sociales' }, 
{ id:'biomateriales', nombre:'Biomateriales', creditos:7.5, temario:['IntroducciÃ³n a los Materiales.','CaracterizaciÃ³n de Biomateriales.','Estructura y propiedades de los Biomateriales.','SustituciÃ³n de Tejidos.','TÃ³picos Selectos.'], semestre:6, deps:['bioquimica'], categoria:'biologicas' }, 
{ id:'control', nombre:'TeorÃ­a del Control', creditos:7.5, temario:['Fundamentos de sistemas de control.','DiseÃ±o de controladores y compensadores analÃ³gicos.','Fundamentos del control digital.','DiseÃ±o de controladores y compensadores digitales.'], semestre:6, deps:['fundmat','analisis'], categoria:'fisicas' }, 
{ id:'imagenes', nombre:'Procesamiento de ImÃ¡genes', creditos:6, temario:['Fundamentos de Procesamiento Digital de ImÃ¡genes.','Mejoramiento de Imagen (Preprocesamiento y Filtrado).','Transformaciones sobre ImÃ¡genes.','ExtracciÃ³n y RestauraciÃ³n de Regiones.','AnÃ¡lisis de ImÃ¡genes.'], semestre:6, deps:['poo'], categoria:'programacion' }, 
{ id:'programables', nombre:'Dispositivos Programables', creditos:6, temario:['Estructura y operaciÃ³n de un microontrolador.','Interfaz.','TemporizaciÃ³n.','Convertidor analÃ³gico-digital.','Protocolos de comunicaciÃ³n.'], semestre:6, deps:['digital'], categoria:'programacion' }, 
{ id:'esfuerzos', nombre:'AnÃ¡lisis de Esfuerzos', creditos:6, temario:['BioestÃ¡tica comportamiento biomecÃ¡nico.','Elementos biomecÃ¡nicos sometidos a carga axial.','Esfuerzos de corte en elementos biomecÃ¡nicos.','FlexiÃ³n en elementos biomecÃ¡nicos.','Elementos biomecÃ¡nicos sometidos a cargas combiadas.'], semestre:6, deps:[], categoria:'fisicas' }, 

{ id:'proyectos', nombre:'InvestigaciÃ³n y Desarrollo', creditos:4.5, temario:['Los proyectos en IngenierÃ­a BiÃ³nica .','Los estudios del proceso de investigaciÃ³n para un proyecto.','Desarrollo de un proyecto.'], semestre:7, deps:[], categoria:'sociales' }, 
{ id:'neurodifuso', nombre:'Control Neurodifuso', creditos:6, temario:['Sistemas Difusos.','Sistemas Neuronales.','Control Neurodifuso.'], semestre:7, deps:['control','programables'], categoria:'electronica' }, 
{ id:'psbiologicas', nombre:'Procesamiento de SeÃ±ales BiolÃ³gicas', creditos:6, temario:['Fundamentos de procesamiento de las seÃ±ales biolÃ³gicas.','Filtros digitales.','AnÃ¡lisis de las seÃ±ales en el dominio del tiempo y frecuencia.','AnÃ¡lisis multidimensional.'], semestre:7, deps:['biofisica'], categoria:'biologicas' }, 
{ id:'bioinstr', nombre:'BioinstrumentaciÃ³n', creditos:7.5, temario:['IntroducciÃ³n a la bioinstrumentaciÃ³n y tÃ©cnicas de mediciÃ³n.','Instrumentos para la mediciÃ³n de variables bioelÃ©ctricas.','Instrumentos para la mediciÃ³n de variables biomecÃ¡nicas.','Instrumentos para la mediciÃ³n de variables de capacidad mecÃ¡nica vibraciones.','Instrumentos para la generaciÃ³n de tensiones, corrientes /o vibraciones.'], semestre:7, deps:['psbiologicas'], categoria:'biologicas' }, 
{ id:'modelado', nombre:'Modelado y Control de Sistemas BiÃ³nicos', creditos:6, temario:['AnÃ¡lisis dimensional y relaciones dimensionales.','Sistema biÃ³nico.','Control robusto en sistemas biÃ³nicos.','DiseÃ±o y controladores robustos.','Control robusto en sistemas biÃ³nicos.'], semestre:7, deps:['neurodifuso'], categoria:'electronica' }, 
{ id:'manufactura', nombre:'Manufactura de BiomimÃ©ticos', creditos:6, temario:['IntroducciÃ³n a los procesos de manufactura.','Procesos de manufactura con arranque de viruta y programaciÃ³n CNC.','Tratamientos tÃ©rmicos, recubrimientos acabados.','Procesos de modelado uniÃ³n.','Procesos avanzados de maquinado prototipado rÃ¡pido.'], semestre:7, deps:['mecanismos'], categoria:'electronica' }, 
{ id:'patrones', nombre:'Reconocimiento de Patrones', creditos:6, temario:['IntroducciÃ³n.','DiseÃ±o de un sistema de reconocedor de patrones.','Clasificador de tipo lineal y no lineal.','MÃ©todos estocÃ¡sticos.','Algoritmos de Clustering.'], semestre:7, deps:['imagenes'], categoria:'programacion' }, 

{ id:'opt1', nombre:'Optativa 1', creditos:6, temario:[], semestre:8, deps:[], categoria:'otros' }, 
{ id:'opt2', nombre:'Optativa 2', creditos:6, temario:[], semestre:8, deps:[], categoria:'otros' }, 
{ id:'normas', nombre:'Normatividad y GestiÃ³n', creditos:4.5, temario:['GestiÃ³n de la tecnologÃ­a.','ProtecciÃ³n transferencia de tecnologÃ­a.','Casos de legislaciÃ³n en biÃ³nica.'], semestre:8, deps:[], categoria:'sociales' }, 
{ id:'investigacion', nombre:'MetodologÃ­a de InvestigaciÃ³n', creditos:4.5, temario:['MÃ©todo cientÃ­fico.','Planteamiento del problema.','ElaboraciÃ³n del protocolo de proyecto de trabajo terminal.','PresentaciÃ³n de trabajos cientÃ­ficos.'], semestre:8, deps:[], categoria:'sociales' }, 
{ id:'biomecanica', nombre:'BiomecÃ¡nica', creditos:6, temario:['Fundamentos de la biomecÃ¡nica.','BiomÃ©canica articular.','BiomÃ©canica del movimiento.','BiomecÃ¡nica de los fluidos corporales.','DiseÃ±o de espacios de trabajo.'], semestre:8, deps:['esfuerzos'], categoria:'fisicas' }, 
{ id:'bioelectronica', nombre:'BioelectrÃ³nica', creditos:6, temario:['BioelectrÃ³nica, origen y tipos de bioseÃ±ales.','EstimulaciÃ³n elÃ©ctrica funcional.','Potenciales evocados.','Interfaces electrÃ³nicas.','Procesos biotecnolÃ³gicos.'], semestre:8, deps:['patrones'], categoria:'electronica' }, 

{ id:'opt3', nombre:'Optativa 3', creditos:6, temario:[], semestre:9, deps:['opt2'], categoria:'otros' }, 
{ id:'biorobotica', nombre:'BiorobÃ³tica', creditos:6, temario:['IntroducciÃ³n a la robÃ³tica.','Principios generales en el diseÃ±o biolÃ³gico motriz.','CinemÃ¡tica y dinÃ¡mica de un robot biomimetico.','TÃ©cnicas de locomociÃ³n.','TÃ³picos emergentes de locomociÃ³n en sistemas vivos.'], semestre:9, deps:['modelado'], categoria:'electronica' }, 
{ id:'trabajoi', nombre:'Trabajo Terminal I', creditos:7.5, temario:['Estado del arte y marco teÃ³rico.','Normas internacionales.','AnÃ¡lisis de requerimientos.','DiseÃ±o detallado y documentaciÃ³n.','Defensa del diseÃ±o propuesto.'], semestre:9, deps:['proyectos'], categoria:'otros' }, 

{ id:'trabajoii', nombre:'Trabajo Terminal II', creditos:7.5, temario:['Lineamientos generales de la dinÃ¡mica de trabajo.','AdministraciÃ³n del proyecto.','DocumentaciÃ³n del proyecto.','PreparaciÃ³n de la defensa oral.','AnÃ¡lisis y discusiÃ³n de resultados.'], semestre:10, deps:['trabajoi'], categoria:'otros' }
     ];


// Recuperar materias cursadas del localStorage
let cursadas = JSON.parse(localStorage.getItem("cursadas")) || [];

// Render por semestre
const contenedor = document.getElementById("contenedor");
const semestres = [...new Set(materias.map(m=>m.semestre))];

semestres.forEach(num => {
  const divSem = document.createElement("div");
  divSem.className = "semestre";
  divSem.innerHTML = `<h2>Semestre ${num}</h2><div class="materias" id="sem-${num}"></div>`;
  contenedor.appendChild(divSem);

  materias.filter(m=>m.semestre===num).forEach(m=>{
    const div = document.createElement("div");
    div.className = "materia";
    div.dataset.id = m.id;
    div.innerHTML = `
      <strong>${m.nombre}</strong><br>
      <span class="creditos">${m.creditos} crÃ©ditos</span>
      <div class="icon-doc">ðŸ“„</div>
      <div class="check-cursada">âœ”</div>
    `;

    // Restaurar si ya estaba cursada
    if(cursadas.includes(m.id)) div.classList.add("cursada");

    div.querySelector(".icon-doc").addEventListener("click", (e)=>{
      e.stopPropagation();
      mostrarTemario(m);
    });
    div.addEventListener("click", ()=>{
      document.querySelectorAll(".materia").forEach(x=>x.classList.remove("seleccionada"));
      div.classList.add("seleccionada");
      m.deps.forEach(dep=>{
        const depDiv=document.querySelector(`.materia[data-id="${dep}"]`);
        if(depDiv) depDiv.classList.add("seleccionada");
      });
    });
    div.querySelector(".check-cursada").addEventListener("click", (e)=>{
      e.stopPropagation();
      div.classList.toggle("cursada");
      if(div.classList.contains("cursada")){
        if(!cursadas.includes(m.id)) cursadas.push(m.id);
      } else {
        cursadas = cursadas.filter(id=>id!==m.id);
      }
      localStorage.setItem("cursadas", JSON.stringify(cursadas));
      actualizarDisponibilidad();
    });
    document.getElementById(`sem-${num}`).appendChild(div);
  });
});

// Modal temario
const modal = document.getElementById("modal");
const modalTitulo = document.getElementById("modal-titulo");
const modalLista = document.getElementById("modal-lista");
document.querySelector(".close").onclick = ()=>modal.style.display="none";

function mostrarTemario(materia){
  modalTitulo.textContent = materia.nombre;
  modalLista.innerHTML = "";
  materia.temario.forEach(t=>{
    const li = document.createElement("li");
    li.textContent=t;
    modalLista.appendChild(li);
  });
  modal.style.display="flex";
}

// Actualizar disponibilidad
function actualizarDisponibilidad(){
  materias.forEach(m=>{
    const div=document.querySelector(`.materia[data-id="${m.id}"]`);
    if(div.classList.contains("cursada")) {
      div.classList.remove("bloqueada","disponible");
      return;
    }
    const depsOk=m.deps.every(dep=>{
      const depDiv=document.querySelector(`.materia[data-id="${dep}"]`);
      return depDiv && depDiv.classList.contains("cursada");
    });
    if(depsOk) {
      div.classList.add("disponible");
      div.classList.remove("bloqueada");
    } else {
      div.classList.add("bloqueada");
      div.classList.remove("disponible");
    }
  });
}

// Inicializar
actualizarDisponibilidad();
</script>
</body>
</html>
